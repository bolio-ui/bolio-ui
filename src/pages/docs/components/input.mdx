import Docs from 'src/templates/Docs'
import { Playground, Attributes } from 'src/components'
import { Instagram, Facebook } from '@bolio-ui/icons'
import { Input, Grid, Button, Code, Text, Dot } from 'core'

export const meta = {
  title: 'Input',
  description: 'Retrieve text input from a user.',
  sidebar: 'components',
  group: 'Components',
  index: 20
}

## Input

Retrieve text input from a user.

The Input contain an additional Hooks, see subsection [useInput](/docs/hooks/use-input) for details.

<Playground
  desc="Basic input field."
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input placeholder="Placeholder Text" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Sizes"
  desc="Inputs of different sizes."
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input scale={1 / 3} placeholder="Scale 1/3" />
  </Grid>
  <Grid>
    <Input scale={2 / 3} placeholder="Scale 2/3" />
  </Grid>
  <Grid>
    <Input placeholder="Scale 1" />
  </Grid>
  <Grid>
    <Input scale={4 / 3} placeholder="Scale 4/3" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Set width"
  desc="Specify width or other styles."
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input placeholder="Placeholder Text" width="100%" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Unwritable"
  desc="Disable interactive inputs."
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input disabled placeholder="Disabled" />
  </Grid>
  <Grid>
    <Input readOnly initialValue="Read Only" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Inline Label"
  desc="Show a short label in the line."
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input label="username" placeholder="Username" />
  </Grid>
  <Grid>
    <Input labelRight=".com" placeholder="https://github.com/" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Block Label"
  desc="Labels for custom styles."
  scope={{ Input, Grid, Text, Code, Dot }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input placeholder="Block Label">
      <Text h3>Block Label</Text>
    </Input>
  </Grid>
  <Grid>
    <Input placeholder="Block Label">Block Label</Input>
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Icon"
  desc="Specify an icon component."
  scope={{ Input, Instagram, Facebook, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input icon={<Instagram />} placeholder="Instagram" />
  </Grid>
  <Grid>
    <Input iconRight={<Facebook />} placeholder="Facebook" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Clearable"
  desc="Add a clear button in the input box."
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input
      clearable
      initialValue="Initial Value"
      placeholder="Initial Value"
    />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Password"
  scope={{ Input, Grid }}
  code={`
<Grid.Container gap={2}>
  <Grid>
    <Input.Password initialValue="123456abc" />
  </Grid>
</Grid.Container>
`}
/>

<Playground
  title="Get Change"
  desc="Capture changes in input."
  scope={{ Input, Grid }}
  code={`
() => {
  const [value, setValue] = React.useState()
  const handler = (e) => {
    setValue(e.target.value)
    console.log(e.target.value)
  }
  return (
    <Grid.Container gap={2}>
      <Grid>
        <Input value={value} onChange={handler} placeholder="Bolio UI" />
      </Grid>
    </Grid.Container>
  )
}
`}
/>

<Playground
  title="Imperative API"
  desc="Update component in an uncontrolled way."
  scope={{ Input, Grid, Button }}
  code={`
() => {
  const ref = React.useRef(null)
  const setChange = () => {
    ref && (ref.current.value = Math.random().toString(32))
  }
  return (
    <Grid.Container gap={2}>
      <Grid>
        <Input initialValue="Hello" onChange={e => console.log(e.target.value)} ref={ref} />
      </Grid>
      <Grid>
        <Button auto type="secondary" scale={1/3} onClick={setChange}>set value</Button>
      </Grid>
    </Grid.Container>
  )
}
`}
/>

<Attributes edit="/pages/docs/components/input.mdx">
<Attributes.Title>Input.Props</Attributes.Title>

| Attribute         | Description                   | Type                                           | Accepted values                   | Default   |
| ----------------- | ----------------------------- | ---------------------------------------------- | --------------------------------- | --------- |
| **value**         | input value                   | `string`                                       | -                                 | -         |
| **initialValue**  | initial value                 | `string`                                       | -                                 | -         |
| **placeholder**   | placeholder                   | `string`                                       | -                                 | -         |
| **type**          | current type                  | `InputTypes`                                   | [InputTypes](#inputtypes)         | `default` |
| **htmlType**      | native type attr              | `string`                                       | -                                 | `text`    |
| **readOnly**      | native attr                   | `boolean`                                      | -                                 | `false`   |
| **disabled**      | disable input                 | `boolean`                                      | -                                 | `false`   |
| **clearable**     | show clear icon               | `boolean`                                      | -                                 | `false`   |
| **label**         | text label for input          | `string`                                       | -                                 | -         |
| **labelRight**    | text label at right for input | `string`                                       | -                                 | -         |
| **icon**          | icon for input                | `React.ReactNode`                              | -                                 | -         |
| **iconRight**     | icon at right for input       | `React.ReactNode`                              | -                                 | -         |
| **iconClickable** | icons are clickable           | `boolean`                                      | -                                 | `false`   |
| **onIconClick**   | click icon event              | `(e: React.ChangeEvent) => void`               | -                                 | -         |
| **onChange**      | change event                  | `(e: React.ChangeEvent) => void`               | -                                 | -         |
| **onClearClick**  | clear icon event              | `(e: React.MouseEvent) => void`                | -                                 | -         |
| **ref**           | forwardRef                    | <Code>Ref<HTMLInputElement &#124; null></Code> | -                                 | -         |
| ...               | native props                  | `InputHTMLAttributes`                          | `'alt', 'type', 'className', ...` | -         |

<Attributes.Title>Input.Password.Props</Attributes.Title>

| Attribute      | Description      | Type          | Accepted values             | Default |
| -------------- | ---------------- | ------------- | --------------------------- | ------- |
| **hideToggle** | hide toggle icon | `boolean`     | -                           | `false` |
| ...            | input props      | `Input.Props` | [Input.Props](#input.props) | -       |

<Attributes.Title>InputTypes</Attributes.Title>

```ts
type InputTypes = 'default' | 'secondary' | 'success' | 'warning' | 'error'
```

<Attributes.Title>useInput</Attributes.Title>

```ts
type useInput = (initialValue: string) => {
  state: string
  setState: Dispatch<SetStateAction<string>>
  currentRef: MutableRefObject<string>
  reset: () => void
  bindings: {
    value: string
    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void
  }
}
```

</Attributes>

export default ({ children }) => <Docs meta={meta}>{children}</Docs>
